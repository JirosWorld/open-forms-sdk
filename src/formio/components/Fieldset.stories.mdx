import {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';
import {FormioComponent, FormDecorator} from './story-util';

<Meta
  title="Form.io components/Fieldset"
  argTypes={{
    components: {
      type: {name: 'array'},
    },
    id: {
      type: {name: 'string'},
    },
    label: {
      type: {name: 'string', required: false},
    },
    descriptionFamilyName: {
      type: {name: 'string'},
    },
    descriptionGivenName: {
      type: {name: 'string'},
    },
    labelFirstName: {
      type: {name: 'string'},
    },
    labelLastName: {
      type: {name: 'string'},
    },
    labelPrivacy: {
      type: {name: 'string'},
    },
    placeholderFirstName: {
      type: {name: 'string'},
    },
    placeholderLastName: {
      type: {name: 'string'},
    },
  }}
  decorators={[FormDecorator]}
  parameters={{
    controls: {sort: 'requiredFirst'},
  }}
/>

# Field Set

A Field Set can be used to create a title of an area of the form. This is useful to put inside
Layout components or in between lots of related components. The Field Set is for display only and
will not be saved to the API,

Additionally the use of a field set increases accessibility: grouping related form controls makes forms more understandable for all users, as related controls are easier to identify, makign it easier for people to focus on smaller and more manageable groups.

**Legend**

A Field Set label that will appear as a Legend for the component in the form.

## Default

export const Template = ({ descriptionFamilyName, descriptionGivenName, id = '', label = '', labelFirstName, labelLastName, labelPrivacy, placeholderFirstName, placeholderLastName, ...args }) => (
  <FormioComponent
    component={{
      key: id,
      type: 'fieldset',
      input: false,
      label,
      tableView: false,
      components: [
        {
          key: 'given-name',
          type: 'textfield',
          input: true,
          label: labelFirstName,
          prefill: {
            plugin: '',
            attribute: '',
          },
          tableView: true,
          deriveCity: false,
          description: descriptionGivenName,
          placeholder: placeholderFirstName,
          registration: {
            attribute: '',
          },
          showInSummary: true,
          isSensitiveData: false,
          deriveStreetName: false,
        },
        {
          key: 'family-name',
          type: 'textfield',
          input: true,
          label: labelLastName,
          prefill: {
            plugin: '',
            attribute: '',
          },
          tableView: true,
          deriveCity: false,
          description: descriptionFamilyName,
          placeholder: placeholderLastName,
          registration: {
            attribute: '',
          },
          showInSummary: true,
          isSensitiveData: false,
          deriveStreetName: false,
        },
        {
          key: 'ikGaAkkoordMetDePrivacyVoorwaarden',
          type: 'checkbox',
          input: true,
          label: labelPrivacy,
          tableView: false,
          description: 'privacy-check',
          defaultValue: false,
          registration: {
            attribute: '',
          },
          showInSummary: true,
          isSensitiveData: false,
        },
      ],
      hideHeader: false,
    }}
  />
);

<Canvas>
  <Story
    name="Default"
    args={{
      id: 'fieldset',  // really not relevant or interesting at all tbh, we just have to provide something
      label: 'The group of fields',  // English first for code/documentation!
      hideHeader: false,
      nestedComponents: [
        {
          key: 'given-name',
          type: 'textfield',
          input: true,
          label: 'Given name',
          description: 'Given name as in your passport/identity card.',
          placeholder: 'Willy',
        },
        ...
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Default" />
