import {ArgsTable, Canvas, Meta, Story} from '@storybook/addon-docs';

import {ConfigDecorator} from 'story-utils/decorators';

import AppointmentStep from './AppointmentStep';
import {
  mockAppointmentDatesGet,
  mockAppointmentLocationsGet,
  mockAppointmentProductsGet,
  mockAppointmentTimesGet,
} from './mocks';

<Meta
  title="Private API/Appointments/Step"
  component={AppointmentStep}
  parameters={{
    msw: {
      handlers: [
        mockAppointmentProductsGet,
        mockAppointmentLocationsGet,
        mockAppointmentDatesGet,
        mockAppointmentTimesGet,
      ],
    },
  }}
/>

export const Template = ({onSubmit}) => <AppointmentStep onSubmit={onSubmit} />;

<Canvas>
  <Story
    name="Default"
    decorators={[ConfigDecorator]}
    parameters={{
      docs: {
        source: {
          type: 'dynamic',
          excludeDecorators: true,
        },
      },
      controls: {hideNoControlsWarning: true},
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable of={AppointmentStep} />
